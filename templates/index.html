<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Battery Digital Twin Terminal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="terminal">
        <div class="terminal-header">
            <div class="terminal-title">BATTERY DIGITAL TWIN TERMINAL v1.0</div>
            <div class="terminal-status">
                <span id="connectionStatus" class="status-disconnected">● DISCONNECTED</span>
                <span id="lastUpdate">WAITING FOR DATA...</span>
            </div>
        </div>
        
        <div class="terminal-content">
            <!-- Live Metrics -->
            <div class="metrics-section">
                <div class="section-title">> LIVE SENSOR DATA</div>
                <div class="metrics-grid">
                    <div class="metric-item">
                        <span class="metric-label">VOLTAGE:</span>
                        <span class="metric-value" id="voltageValue">0.00</span>
                        <span class="metric-unit">V</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">CURRENT:</span>
                        <span class="metric-value" id="currentValue">0.0</span>
                        <span class="metric-unit">mA</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">POWER:</span>
                        <span class="metric-value" id="powerValue">0.0</span>
                        <span class="metric-unit">mW</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">TEMP:</span>
                        <span class="metric-value" id="tempValue">0.0</span>
                        <span class="metric-unit">°C</span>
                    </div>
                </div>
            </div>

            <!-- Gauges -->
            <div class="gauges-section">
                <div class="section-title">> SYSTEM GAUGES</div>
                <div class="gauges-grid">
                    <div class="gauge-container">
                        <div class="gauge-title">VOLTAGE METER</div>
                        <div id="voltageGauge"></div>
                    </div>
                    <div class="gauge-container">
                        <div class="gauge-title">TEMPERATURE METER</div>
                        <div id="tempGauge"></div>
                    </div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-section">
                <div class="section-title">> REAL-TIME CHARTS</div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-title">VOLTAGE TREND</div>
                        <div id="voltageChart"></div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">CURRENT TREND</div>
                        <div id="currentChart"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="terminal-footer">
            <div class="footer-text">ESP32 → MQTT → RASPBERRY PI → FLASK | DATA UPDATES EVERY 2 SECONDS</div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/simple_dashboard.js') }}"></script>
</body>
</html>